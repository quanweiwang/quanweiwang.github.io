
<!DOCTYPE html>
<html lang="zh-Hans" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>王权伟の博客 - 好记性不如烂笔头</title>

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="王权伟,"> 
    <meta name="description" content="好记性不如烂笔头,"> 
    <meta name="author" content="王权伟"> 
    <link rel="alternative" href="atom.xml" title="王权伟の博客" type="application/atom+xml"> 
    <link rel="icon" href="/img/avatar.jpg"> 
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <link rel="stylesheet" href="/css/diaspora.css">
</head>

<body class="loading">
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="icon-home image-icon" href="javascript:;"></a>
    <div title="播放/暂停" class="icon-play"></div>
    <h3 class="subtitle">开启iOS自带的调试悬浮窗UIDebuggingInformationOverlay</h3>
    <div class="social">
        <!--<div class="like-icon">-->
            <!--<a href="javascript:;" class="likeThis active"><span class="icon-like"></span><span class="count">76</span></a>-->
        <!--</div>-->
        <div>
            <div class="share">
                <a title="获取二维码" class="icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>
    <div class="section">
        <div class="article">
    <div class='main'>
        <h1 class="title">开启iOS自带的调试悬浮窗UIDebuggingInformationOverlay</h1>
        <div class="stuff">
            <span>六月 03, 2017</span>
            

        </div>
        <div class="content markdown">
            <h1 id="什么是UIDebuggingInformationOverlay"><a href="#什么是UIDebuggingInformationOverlay" class="headerlink" title="什么是UIDebuggingInformationOverlay"></a>什么是UIDebuggingInformationOverlay</h1><p>UIDebuggingInformationOverlay是由苹果创建的私有子类，大概是帮助开发人员和设计师调试苹果自己的iOS应用程序。</p>
<p>启用后，窗口会浮动在应用的内容上，如下所示</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1488825-279074db866c0051.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<a id="more"></a>
<h1 id="如何开启UIDebuggingInformationOverlay"><a href="#如何开启UIDebuggingInformationOverlay" class="headerlink" title="如何开启UIDebuggingInformationOverlay"></a>如何开启UIDebuggingInformationOverlay</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions&#123;</div><div class="line">    // Override point for customization after application launch.</div><div class="line"></div><div class="line">    Class overlayClass = NSClassFromString(@&quot;UIDebuggingInformationOverlay&quot;);</div><div class="line">    [[overlayClass class] performSelector:@selector(prepareDebuggingOverlay)];</div><div class="line"></div><div class="line">    return YES;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>开启后使用两根手指点击状态栏来调出调试面板。<br>PS:该类是私有类，因此可能将无法通过App Store审核。</p>
<h1 id="UIDebuggingInformationOverlay可以做什么"><a href="#UIDebuggingInformationOverlay可以做什么" class="headerlink" title="UIDebuggingInformationOverlay可以做什么"></a>UIDebuggingInformationOverlay可以做什么</h1><p>从屏幕截图可以看出，覆盖层提供了六个功能。本文将对前五个进行介绍。</p>
<h2 id="一、View-Hierarchy"><a href="#一、View-Hierarchy" class="headerlink" title="一、View Hierarchy"></a>一、View Hierarchy</h2><p>这个选项可以向你展示当前选择的窗口的视图列表。可通过点击cell右侧的感叹号查看详情。包括视图的frame和成员变量等。<br><img src="http://upload-images.jianshu.io/upload_images/1210359-9823a941c7bc9c33.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/320" alt="image"><br><img src="http://upload-images.jianshu.io/upload_images/1210359-bc74b8cfbf8086e8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/320" alt="image"></p>
<h2 id="二、VC-Hierarchy"><a href="#二、VC-Hierarchy" class="headerlink" title="二、VC Hierarchy"></a>二、VC Hierarchy</h2><p>通过这个可以大致看到ViewController层次结构。它与“View Hierarchy”非常相似，只是它显示了活动视图控制器的层次结构。从这里，你可以检查任何视图控制器的详情，包括其视图。<br><img src="http://upload-images.jianshu.io/upload_images/1210359-7bb08a7735cde2b9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/320" alt="image"></p>
<h2 id="三、Ivar-Explorer"><a href="#三、Ivar-Explorer" class="headerlink" title="三、Ivar Explorer"></a>三、Ivar Explorer</h2><p>这个特性允许你查看UIApplication对象的成员变量。更重要的是，任何一个对象的变量都是可以被查看的。<br>这包括app delegate，根据你的应用程序的结构，可能会提供一个很好的切入点，允许你进入自定义的对象里。<br><img src="http://upload-images.jianshu.io/upload_images/1210359-0b736ab1044c5eeb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/320" alt="image"></p>
<h2 id="四、Measure"><a href="#四、Measure" class="headerlink" title="四、Measure"></a>四、Measure</h2><p>在我看来，这是一个比较酷的特性。它允许你以pt这个精度去测量屏幕内各个元素的尺寸。首先，选择你想查看水平还是竖直的轴线。然后手指拖动屏幕，使用控制台内的放大器来帮助你。有两种模式:</p>
<p>默认的模式忽略了视图边界。据我所知,这种模式将屏幕作为一个点阵图片,并通过颜色的变化作为潜在的测量边界。例如,在下面的屏幕截图中,我能够测量一个textfield的文字的边界和屏幕边界的距离:<br><img src="http://upload-images.jianshu.io/upload_images/1210359-eda3e4204238ee3f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/320" alt="image"></p>
<p>“View Mode”则是另外一种处理方式。它清晰的展示了每一个子视图的尺寸。拖动你的手指到要查看的视图上，可以查看它在你选择的轴线上的范围。在下面的屏幕截图里，我测量了顶部输入框的高度。<br><img src="http://upload-images.jianshu.io/upload_images/1210359-ad07ed6f80fb69a2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/320" alt="image"></p>
<h2 id="五、Spec-Compare"><a href="#五、Spec-Compare" class="headerlink" title="五、Spec Compare"></a>五、Spec Compare</h2><p>我认为这个工具在开发者与设计师之间提供了极大的便利。添加一个屏幕截图到你的设备里然后通过Spec Compare选择它，被选择的这张屏幕截图会展示在当前app的顶部。你可以在屏幕上拖动来调整透明度，以此来对比设计和你app中的实现具体的不同。</p>
<p>PS：iOS10系统记得添加相册访问权限NSPhotoLibraryUsageDescription，否则将会crash。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1210359-6eb68cbc90b1abac.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/320" alt="image"><br><img src="http://upload-images.jianshu.io/upload_images/1210359-1a1439d885a31255.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/320" alt="image"></p>
<h1 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h1><p><a href="https://github.com/quanweiwang/QWDebuggingInformationOverlay" target="_blank" rel="external">QWDebuggingInformationOverlay</a></p>
<p>本文是基于下述原文进行了机器翻译并有增改，侵删！</p>
<p>原文：<a href="http://ryanipete.com/blog/ios/swift/objective-c/uidebugginginformationoverlay/" target="_blank" rel="external">http://ryanipete.com/blog/ios/swift/objective-c/uidebugginginformationoverlay/</a></p>
<p>图片素材来自<br>简书：<a href="http://www.jianshu.com/u/abdec57edfa1" target="_blank" rel="external">郭大猿</a> 的 <a href="http://www.jianshu.com/p/0efafc9cdd7f" target="_blank" rel="external">http://www.jianshu.com/p/0efafc9cdd7f</a></p>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        <li title='0' data-url='https://link.hhtjim.com/qq/001T7NTt0GE6RU.mp3'></li>
                    
                        <li title='1' data-url='https://link.hhtjim.com/qq/002aZAIe1gk8KL.mp3'></li>
                    
                        <li title='2' data-url='https://link.hhtjim.com/qq/003MNjHn3MgszW.mp3'></li>
                    
                </ul>
            
        </div>
        
    <div id='gitalk-container' class="comment link"
        data-ae='true'
        data-ci='9df2b9438a95189bb534'
        data-cs='149a3805a8ee33d02fadd626cac3e8239c494596'
        data-r='quanweiwang.github.io'
        data-o='quanweiwang'
        data-a='quanweiwang'
        data-d='false'
    >查看评论</div>


    </div>
    
</div>


    </div>
</div>
</body>
<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/diaspora.js"></script>
<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">
<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>




</html>